import{g as _,c as V,a as x,u as U}from"./Collection-C6ZXI0s2.js";import{P as y}from"./createLucideIcon-SCcivsJS.js";import{u as D}from"./useForwardExpose-B3Ta8L7r.js";import{d as F,t as G,r as v,g as S,o as I,w as g,e as N,u as i,i as T}from"./app-CjIs-FcR.js";const L="rovingFocusGroup.onEntryFocus",M={bubbles:!1,cancelable:!0},H={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function X(t,e,a){const r=$(t.key,a);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return H[r]}function k(t,e=!1){const a=_();for(const r of t)if(r===a||(r.focus({preventScroll:e}),_()!==a))return}function Z(t,e){return t.map((a,r)=>t[(e+r)%t.length])}const[ee,K]=V("RovingFocusGroup");var Y=F({__name:"RovingFocusGroup",props:{orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!1},currentTabStopId:{type:[String,null],required:!1},defaultCurrentTabStopId:{type:String,required:!1},preventScrollOnEntryFocus:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["entryFocus","update:currentTabStopId"],setup(t,{expose:e,emit:a}){const r=t,m=a,{loop:C,orientation:h,dir:A}=G(r),b=x(A),c=D(r,"currentTabStopId",m,{defaultValue:r.defaultCurrentTabStopId,passive:r.currentTabStopId===void 0}),l=v(!1),d=v(!1),f=v(0),{getItems:w,CollectionSlot:E}=U({isProvider:!0});function R(o){const s=!d.value;if(o.currentTarget&&o.target===o.currentTarget&&s&&!l.value){const u=new CustomEvent(L,M);if(o.currentTarget.dispatchEvent(u),m("entryFocus",u),!u.defaultPrevented){const p=w().map(n=>n.ref).filter(n=>n.dataset.disabled!==""),O=p.find(n=>n.getAttribute("data-active")===""),P=p.find(n=>n.id===c.value),B=[O,P,...p].filter(Boolean);k(B,r.preventScrollOnEntryFocus)}}d.value=!1}function q(){setTimeout(()=>{d.value=!1},1)}return e({getItems:w}),K({loop:C,dir:b,orientation:h,currentTabStopId:c,onItemFocus:o=>{c.value=o},onItemShiftTab:()=>{l.value=!0},onFocusableItemAdd:()=>{f.value++},onFocusableItemRemove:()=>{f.value--}}),(o,s)=>(I(),S(i(E),null,{default:g(()=>[N(i(y),{tabindex:l.value||f.value===0?-1:0,"data-orientation":i(h),as:o.as,"as-child":o.asChild,dir:i(b),style:{outline:"none"},onMousedown:s[0]||(s[0]=u=>d.value=!0),onMouseup:q,onFocus:R,onBlur:s[1]||(s[1]=u=>l.value=!1)},{default:g(()=>[T(o.$slots,"default")]),_:3},8,["tabindex","data-orientation","as","as-child","dir"])]),_:3}))}}),te=Y,j=F({__name:"VisuallyHidden",props:{feature:{type:String,required:!1,default:"focusable"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){return(e,a)=>(I(),S(i(y),{as:e.as,"as-child":e.asChild,"aria-hidden":e.feature==="focusable"?"true":void 0,"data-hidden":e.feature==="fully-hidden"?"":void 0,tabindex:e.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal"}},{default:g(()=>[T(e.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}}),re=j;export{te as R,re as V,k as f,X as g,ee as i,Z as w};
